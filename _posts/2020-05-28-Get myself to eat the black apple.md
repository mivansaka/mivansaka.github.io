---
layout: post
title:  "Get myself to eat the black apple"
date:   2020-05-28 13:13:09
---

## Get myself to eat the black apple

**本博文不是教程，仅做自己记录用**

最近终于把自己的常用电脑给装上了 Hackintosh，就是俗称的黑苹果。其实曾经在两年前试过安装过一次，那时候的设备准备比现在还齐全，但是不知道为何一直在原地打转，均以失败告终。

其实市面上对 Hackintosh 的支援还是很良好的，常见的机型基本上都有打包好的 UEFI 文件提供，仅需要有一点点的电脑常识，要做的大部分和安装一台 Ubuntu 差别不大，如果能够直接把修改好的引导文件内置在安装介质中甚至连后期的文件替换工作都不需要做。

然而我本身的电脑是小众机型（Asus-P2540UV），在网路上自然没有打包好的文件可以供我使用，基础的思路同先前一样就是使用不带任何驱动的镜像引导进安装程序，把系统装上在进行后面的驱动调整。

现在中文网路上提供系统镜像资源的网站有很多，我选择的是[黑果小兵的部落格](https://blog.daliansky.net "With a Title")，下载以后再使用[etcher](https://etcher.io/)，打开镜像，选择U盘，点击Flash即可制作U盘的启动盘。之后就是和安装其他系统一样，进入 Bios 选择U盘引导，进行引导。最开始会进入 Clover 的界面，有多个启动项选择一下就可以。

当然这次也是出现了问题，选择之后电脑开始跑起了代码，大约十秒钟以后代码界面花屏又自动重启到了 Bios 界面，我估摸着是这套镜像中显卡驱动不符合的问题，在 Clover 的设置界面找了一会发现有个 boot with no-gpu，勾选以后试了一下果然可以正常跑完代码，进入到 macOS 的安装界面。抹掉我的 SSD，选择安装一套流程走下来终于见到了两年前心心念念的 Hackintosh 界面。

之后再使用 Clover Configurator 把启动U盘中的 EFI 和电脑上空白的 EFI 挂载上，复制刚刚能正常引导的 EFI 文件到本机中，之后的引导就可以拔掉U盘了。但工作还没有结束，进入系统查看核显驱动不正常，显存只有4兆，在 Clover Configurator 中选择合适的显卡驱动，保存、重启果然核显也跑起来了。后面遇到了一些多多少少的小毛病，大部分都可以在 Clover Configurator 找到合适的设置解决。

当前仍未或是较难解决的问题：

- Airdrop 和 Handoff    因为 USB 网卡和内置的蓝牙都有很大差别，不能开启 Airdrop
- iMessage    可以用伪造三码合一的方式开启，但是操作较为繁琐以及不稳定，我没有继续做下去
- 电池电量显示    需要在 DTDS 文件中修改二进制代码进行修复，也是因为较为繁琐我没有继续做下去

Tip: 由于我本身有两块硬盘，系统是装载在我的 SSD 上的，另一块是机械硬盘，NTFS 制式的，因此在 Mac 下还需要用软件才能开启它的写入功能，但是坑人的就来了，因为在 Windows 8 以后引入的快速启动功能会造成 NTFS 分区的问题，即使使用软件也无法开启写入，**在 Windows 系统下，重装前请务必在电源管理中关闭快速启动功能再重启将 NTFS 硬盘恢复到正常状态**。

到现在为止大概使用 macOS 有一周时间了，终于能够用上有正常字体渲染和漂亮动画的作业系统，常用软件也能得到满足（说的就是你：微信，为什么还不出 Linux 版本），或许未来换电脑的时候我还会继续选择能良好 Hackintosh 的 PC，又或者购入新款的麦克电脑也不一定。

最后附上一张当前的桌面截图

![2020-05-28 13.08.35.jpg](https://i.loli.net/2020/05/28/IgKQrvlXt2u8ZRB.jpg)